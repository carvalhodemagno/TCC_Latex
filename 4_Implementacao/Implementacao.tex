%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Implementação}
\label{chapter:implementacao}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{\textit{Hardware}}
\label{section_hardware}

\subsection{Componentes} 

\subsection{Esquemáticos Elétricos}

\begin{figure}[H]
	\centering
	\includegraphics[width=1\columnwidth]{figuras/Schematic_Power_Supply}
	\caption{Esquemático elétrico da alimentação do circuito.}
	\label{fig:Schematic_Power_Supply}
\end{figure}

\begin{figure}[H]
	\centering
	\includegraphics[width=1\columnwidth]{figuras/Schematic_Meter}
	\caption{Esquemático elétrico do sistema de medição da energia elétrica.}
	\label{fig:Schematic_Meter}
\end{figure}

\begin{figure}[H]
	\centering
	\includegraphics[width=1\columnwidth]{figuras/Schematic_Core_Processor}
	\caption{Esquemático elétrico referente ao microcontrolador.}
	\label{fig:Schematic_Core_Processor}
\end{figure}

\subsection{\textit{Layout} da PCB}
Para realizar o \textit{layout} da PCB, foi necessário levar em conta os pontos críticos do circuito, que foram:

\begin{enumerate}
	\item[1.] Apresentar tensão alternada de 110 ou 220 volts nominal, para alimentação do circuito mostrado nas Imagens \ref{fig:Schematic_Power_Supply}, \ref{fig:Schematic_Meter} e \ref{fig:Schematic_Core_Processor}, e os terminais de controle da contatora.
	\item[2.] Apresentar um LED 
\end{enumerate}

\subsection{Fabricação}

\subsection{Módulo Placa de Automação de Refrigeração Residencial}

\section{\textit{Firmware}}
\label{section_firmware}
Para elaboração inicial do \textit{firmware}, foi utilizado o módulo NodeMCU Lol1n, mostrado na figura \ref{fig:nodemcu_lol1n}, que contém um módulo ESP-12E porém com os circuitos de alimentação e gravação por interface USB já embutidos nele. Esta metodologia de utilizar um módulo pronto foi utilizada com intuito de diminuir o tempo gasto com a elaboração de um circuito para gravação do microcontrolador e também para permitir o desenvolvimento do \textit{firmware} antes do término da fabricação, montagem dos componentes e testes elétricos da PCB.

\begin{figure}[H]
	\centering
	\includegraphics[width=0.4\columnwidth]{figuras/nodemcu_lol1n}
	\caption{Módulo NodeMCU Lol1n.}
	\label{fig:nodemcu_lol1n}
\end{figure}

\subsection{Comunicação Wi-Fi e MQTT}

\subsection{Monitoramento de presença humana}

\subsection{Monitoramento da qualidade da energia elétrica}



\section{\textit{Software}}

\subsection{Interação com a Placa de Automação de Refrigeração Residencial}

\subsubsection{Comunicação}

\subsubsection{Requisição de Ligar e Desligar o Aparelho Ar Condicionado}

\subsubsection{Requisição para Obtenção de Dados da Qualidade da Energia Elétrica}



\label{section_software}
